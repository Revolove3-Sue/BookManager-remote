{"remainingRequest":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\src\\views\\login\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\src\\views\\login\\index.vue","mtime":1730904574341},{"path":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730904561891},{"path":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1730904560872},{"path":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730904561891},{"path":"C:\\Users\\陶闰喆\\Documents\\GitHub\\Librasphere\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1730904573452}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICJMb2dpbiIsDQogICAgZGF0YSgpIHsNCiAgICAgICAgY29uc3QgdmFsaWRhdGVVc2VybmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgICAgICAgIGNhbGxiYWNrKCk7DQogICAgICAgIH07DQogICAgICAgIGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgICB9Ow0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbG9naW5Gb3JtOiB7DQogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgICAgICAgICAgICBpc2FkbWluOiAwLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGxvZ2luUnVsZXM6IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogWw0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVVc2VybmFtZSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICBwYXNzd29yZFR5cGU6ICJwYXNzd29yZCIsDQogICAgICAgICAgICByZWRpcmVjdDogdW5kZWZpbmVkLA0KICAgICAgICB9Ow0KICAgIH0sDQogICAgdXBkYXRlZCgpIHsNCiAgICAgICAgLy8NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgc2hvd1B3ZCgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnBhc3N3b3JkVHlwZSA9PT0gInBhc3N3b3JkIikgew0KICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gIiI7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gInBhc3N3b3JkIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkLmZvY3VzKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlTG9naW4oKSB7DQogICAgICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUNCiAgICAgICAgICAgICAgICAgICAgICAgIC5kaXNwYXRjaCgidXNlci9sb2dpbiIsIHRoaXMubG9naW5Gb3JtKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi8iIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZSA9PSB1bmRlZmluZWQgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXNwb25zZS5kYXRhID09IHVuZGVmaW5lZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMDAsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZS5yZXNwb25zZS5kYXRhLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5LiN5YWB6K645o+Q5LqkISIpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVJlZ2lzdGVyKCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coIuazqOWGjOaMiemSriIpOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3JlZ2lzdGVyIiB9KTsgLy8g6L+b5rOo5YaM6aG16Z2iDQogICAgICAgIH0sDQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgICAvLw0KICAgIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n      <div style=\"display: flex; width: 500px; height: 400px; margin: auto;\r\n                position: absolute;\r\n\t              top: 0;\r\n\t              left: 0;\r\n\t              right: 0;\r\n\t              bottom: 0;\">\r\n        <el-form\r\n            ref=\"loginForm\"\r\n            :model=\"loginForm\"\r\n            :rules=\"loginRules\"\r\n            class=\"login-form\"\r\n            auto-complete=\"on\"\r\n            label-position=\"left\"\r\n        >\r\n            <!-- 标题 -->\r\n            <div class=\"title-container\">\r\n                <h3 class=\"title\">登录图书管理系统</h3>\r\n            </div>\r\n            <!-- 用户名 -->\r\n            <el-form-item prop=\"userName\">\r\n                <span class=\"svg-container\">\r\n                    <i class=\"el-icon-a-052\" style=\"font-size: 24px\"></i>\r\n                </span>\r\n                <el-input\r\n                    class=\"yuan\"\r\n                    ref=\"userName\"\r\n                    v-model=\"loginForm.userName\"\r\n                    placeholder=\"请输入用户名\"\r\n                    name=\"userName\"\r\n                    type=\"text\"\r\n                    tabindex=\"1\"\r\n                    auto-complete=\"on\"\r\n                />\r\n            </el-form-item>\r\n            <!-- 密码 -->\r\n            <el-form-item prop=\"password\">\r\n                <span class=\"svg-container\">\r\n                    <i class=\"el-icon-a-051\" style=\"font-size: 24px\"></i>\r\n                </span>\r\n                <el-input\r\n                    class=\"yuan\"\r\n                    :key=\"passwordType\"\r\n                    ref=\"password\"\r\n                    v-model=\"loginForm.password\"\r\n                    :type=\"passwordType\"\r\n                    placeholder=\"请输入密码\"\r\n                    name=\"password\"\r\n                    tabindex=\"2\"\r\n                    auto-complete=\"on\"\r\n                    @keyup.enter.native=\"handleLogin\"\r\n                />\r\n                <span class=\"show-pwd\" @click=\"showPwd\">\r\n                    <svg-icon\r\n                        :icon-class=\"\r\n                            passwordType === 'password' ? 'eye' : 'eye-open'\r\n                        \"\r\n                    />\r\n                </span>\r\n            </el-form-item>\r\n            <!-- 权限 -->\r\n            <el-form-item prop=\"authority\">\r\n                <span class=\"svg-container\">\r\n                    <i\r\n                        class=\"iconfont icon-r-setting\"\r\n                        style=\"font-size: 24px\"\r\n                    ></i>\r\n                </span>\r\n                <el-select\r\n                    v-model=\"loginForm.isAdmin\"\r\n                    placeholder=\"请选择\"\r\n                    style=\"width: 300px\"\r\n                >\r\n                    <el-option :key=\"0\" label=\"读者\" :value=\"0\"></el-option>\r\n                    <el-option :key=\"1\" label=\"管理员\" :value=\"1\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <!-- 登录按钮 -->\r\n            <div style=\"height: 40px; margin-bottom: 30px\">\r\n                <el-button\r\n                    :disabled=\"loading\"\r\n                    type=\"primary\"\r\n                    style=\"width: 48%; float: left; font-size: 22px\"\r\n                    @click.native.prevent=\"handleLogin\"\r\n                >\r\n                    登录\r\n                </el-button>\r\n                <el-button\r\n                    :disabled=\"loading\"\r\n                    type=\"success\"\r\n                    style=\"width: 48%; float: right; font-size: 22px\"\r\n                    @click.native.prevent=\"handleRegister\"\r\n                >\r\n                    注册\r\n                </el-button>\r\n            </div>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n    name: \"Login\",\r\n    data() {\r\n        const validateuserName = (rule, value, callback) => {\r\n            callback();\r\n        };\r\n        const validatePassword = (rule, value, callback) => {\r\n            callback();\r\n        };\r\n        return {\r\n            loginForm: {\r\n                userName: \"\",\r\n                password: \"\",\r\n                isAdmin: 0,\r\n            },\r\n            loginRules: {\r\n                userName: [\r\n                    {\r\n                        required: true,\r\n                        trigger: \"blur\",\r\n                        validator: validateuserName,\r\n                    },\r\n                ],\r\n                password: [\r\n                    {\r\n                        required: true,\r\n                        trigger: \"blur\",\r\n                        validator: validatePassword,\r\n                    },\r\n                ],\r\n            },\r\n            loading: false,\r\n            passwordType: \"password\",\r\n            redirect: undefined,\r\n        };\r\n    },\r\n    updated() {\r\n        //\r\n    },\r\n    methods: {\r\n        showPwd() {\r\n            if (this.passwordType === \"password\") {\r\n                this.passwordType = \"\";\r\n            } else {\r\n                this.passwordType = \"password\";\r\n            }\r\n            this.$nextTick(() => {\r\n                this.$refs.password.focus();\r\n            });\r\n        },\r\n        handleLogin() {\r\n            this.$refs.loginForm.validate((valid) => {\r\n                if (valid) {\r\n                    this.loading = true;\r\n                    this.$store\r\n                        .dispatch(\"user/login\", this.loginForm)\r\n                        .then(() => {\r\n                            this.$router.push({ path: \"/\" });\r\n                            this.loading = false;\r\n                        })\r\n                        .catch((e) => {\r\n                            console.log(e);\r\n                            this.loading = false;\r\n                            if (\r\n                                e.response == undefined ||\r\n                                e.response.data == undefined\r\n                            ) {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            } else {\r\n                                this.$message({\r\n                                    showClose: true,\r\n                                    message: e.response.data,\r\n                                    type: \"error\",\r\n                                    duration: 5000,\r\n                                });\r\n                            }\r\n                        });\r\n                } else {\r\n                    console.log(\"不允许提交!\");\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n        handleRegister() {\r\n            console.log(\"注册按钮\");\r\n            this.$router.push({ path: \"/register\" }); // 进注册页面\r\n        },\r\n    },\r\n    mounted() {\r\n        //\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* 修复input 背景不协调 和光标变色 */\r\n/* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\r\n\r\n$bg: #283443;\r\n$light_gray: #222;\r\n$cursor: #222;\r\n\r\n@supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\r\n    .login-container .el-input input {\r\n        color: $cursor;\r\n    }\r\n}\r\n\r\n/* reset element-ui css */\r\n.login-container {\r\n    .el-input.yuan {\r\n        display: inline-block;\r\n        height: 47px;\r\n        width: 85%;\r\n\r\n        input {\r\n            background: transparent;\r\n            border: 0px;\r\n            -webkit-appearance: none;\r\n            border-radius: 0px;\r\n            padding: 12px 5px 12px 15px;\r\n            color: #222;\r\n            height: 47px;\r\n            caret-color: #222;\r\n\r\n            &:-webkit-autofill {\r\n                box-shadow: 0 0 0px 1000px $bg inset !important;\r\n                -webkit-text-fill-color: #222 !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    .el-input {\r\n        display: inline-block;\r\n        height: 47px;\r\n        width: 100%;\r\n\r\n        input {\r\n            background: transparent;\r\n            border: 0px;\r\n            -webkit-appearance: none;\r\n            border-radius: 0px;\r\n            padding: 12px 5px 12px 15px;\r\n            color: #222;\r\n            height: 47px;\r\n            caret-color: #222;\r\n\r\n            &:-webkit-autofill {\r\n                box-shadow: 0 0 0px 1000px $bg inset !important;\r\n                -webkit-text-fill-color: #222 !important;\r\n            }\r\n        }\r\n    }\r\n\r\n    .el-form-item {\r\n        border: 1px solid rgba(255, 255, 255, 0.1);\r\n        background: rgba(0, 0, 0, 0.1);\r\n        border-radius: 5px;\r\n        color: #454545;\r\n    }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n$bg: #2d3a4b;\r\n$dark_gray: #222;\r\n$light_gray: #222;\r\n\r\n.login-container {\r\n    min-height: 100%;\r\n    width: 100%;\r\n    //background-color: $bg;\r\n    overflow: hidden;\r\n  background-image: url(\"../../assets/图书馆.jpg\");\r\n  background-size: 100%;\r\n\r\n    .login-form {\r\n        position: relative;\r\n        width: 520px;\r\n        max-width: 100%;\r\n        //padding: 160px 35px 0;\r\n      padding: 30px;\r\n        margin: 0 auto;\r\n        overflow: hidden;\r\n      background-color: rgba(250,250,250,0.8);\r\n\r\n    }\r\n\r\n    .tips {\r\n        font-size: 14px;\r\n        color: #222;\r\n        margin-bottom: 10px;\r\n\r\n        span {\r\n            &:first-of-type {\r\n                margin-right: 16px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .svg-container {\r\n        padding: 6px 5px 6px 15px;\r\n        color: $dark_gray;\r\n        vertical-align: middle;\r\n        width: 30px;\r\n        display: inline-block;\r\n\r\n        font-size: 20px;\r\n    }\r\n\r\n    .title-container {\r\n        position: relative;\r\n\r\n        .title {\r\n            font-size: 26px;\r\n            color: $light_gray;\r\n            margin: 0px auto 40px auto;\r\n            text-align: center;\r\n            font-weight: bold;\r\n        }\r\n    }\r\n\r\n    .show-pwd {\r\n        position: absolute;\r\n        right: 10px;\r\n        top: 7px;\r\n        font-size: 16px;\r\n        color: $dark_gray;\r\n        cursor: pointer;\r\n        user-select: none;\r\n    }\r\n}\r\n</style>\r\n"]}]}