{"remainingRequest":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\src\\views\\login\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\src\\views\\login\\index.vue","mtime":1728618610746},{"path":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778493034},{"path":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1713778491283},{"path":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713778493034},{"path":"D:\\闲鱼卖品\\文件\\上架\\大号\\图书馆管理系统\\源代码\\BookManager\\BookManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1724687710297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogIkxvZ2luIiwKICAgIGRhdGEoKSB7CiAgICAgICAgY29uc3QgdmFsaWRhdGVVc2VybmFtZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9OwogICAgICAgIGNvbnN0IHZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsb2dpbkZvcm06IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICAgICAgICAgIGlzYWRtaW46IDAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IHZhbGlkYXRlVXNlcm5hbWUsCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkLAogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgcGFzc3dvcmRUeXBlOiAicGFzc3dvcmQiLAogICAgICAgICAgICByZWRpcmVjdDogdW5kZWZpbmVkLAogICAgICAgIH07CiAgICB9LAogICAgdXBkYXRlZCgpIHsKICAgICAgICAvLwogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzaG93UHdkKCkgewogICAgICAgICAgICBpZiAodGhpcy5wYXNzd29yZFR5cGUgPT09ICJwYXNzd29yZCIpIHsKICAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gIiI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICJwYXNzd29yZCI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC5mb2N1cygpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZUxvZ2luKCkgewogICAgICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgICAgICAgICAgICAgICAgLmRpc3BhdGNoKCJ1c2VyL2xvZ2luIiwgdGhpcy5sb2dpbkZvcm0pCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi8iIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnJlc3BvbnNlID09IHVuZGVmaW5lZCB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucmVzcG9uc2UuZGF0YSA9PSB1bmRlZmluZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlLnJlc3BvbnNlLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuS4jeWFgeiuuOaPkOS6pCEiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlUmVnaXN0ZXIoKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLms6jlhozmjInpkq4iKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3JlZ2lzdGVyIiB9KTsgLy8g6L+b5rOo5YaM6aG16Z2iCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vCiAgICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n    <div class=\"login-container\">\n      <div style=\"display: flex; width: 500px; height: 400px; margin: auto;\n                position: absolute;\n\t              top: 0;\n\t              left: 0;\n\t              right: 0;\n\t              bottom: 0;\">\n        <el-form\n            ref=\"loginForm\"\n            :model=\"loginForm\"\n            :rules=\"loginRules\"\n            class=\"login-form\"\n            auto-complete=\"on\"\n            label-position=\"left\"\n        >\n            <!-- 标题 -->\n            <div class=\"title-container\">\n                <h3 class=\"title\">登录图书管理系统</h3>\n            </div>\n            <!-- 用户名 -->\n            <el-form-item prop=\"username\">\n                <span class=\"svg-container\">\n                    <i class=\"el-icon-a-052\" style=\"font-size: 24px\"></i>\n                </span>\n                <el-input\n                    class=\"yuan\"\n                    ref=\"username\"\n                    v-model=\"loginForm.username\"\n                    placeholder=\"请输入用户名\"\n                    name=\"username\"\n                    type=\"text\"\n                    tabindex=\"1\"\n                    auto-complete=\"on\"\n                />\n            </el-form-item>\n            <!-- 密码 -->\n            <el-form-item prop=\"password\">\n                <span class=\"svg-container\">\n                    <i class=\"el-icon-a-051\" style=\"font-size: 24px\"></i>\n                </span>\n                <el-input\n                    class=\"yuan\"\n                    :key=\"passwordType\"\n                    ref=\"password\"\n                    v-model=\"loginForm.password\"\n                    :type=\"passwordType\"\n                    placeholder=\"请输入密码\"\n                    name=\"password\"\n                    tabindex=\"2\"\n                    auto-complete=\"on\"\n                    @keyup.enter.native=\"handleLogin\"\n                />\n                <span class=\"show-pwd\" @click=\"showPwd\">\n                    <svg-icon\n                        :icon-class=\"\n                            passwordType === 'password' ? 'eye' : 'eye-open'\n                        \"\n                    />\n                </span>\n            </el-form-item>\n            <!-- 权限 -->\n            <el-form-item prop=\"authority\">\n                <span class=\"svg-container\">\n                    <i\n                        class=\"iconfont icon-r-setting\"\n                        style=\"font-size: 24px\"\n                    ></i>\n                </span>\n                <el-select\n                    v-model=\"loginForm.isadmin\"\n                    placeholder=\"请选择\"\n                    style=\"width: 300px\"\n                >\n                    <el-option :key=\"0\" label=\"读者\" :value=\"0\"></el-option>\n                    <el-option :key=\"1\" label=\"管理员\" :value=\"1\"></el-option>\n                </el-select>\n            </el-form-item>\n\n            <!-- 登录按钮 -->\n            <div style=\"height: 40px; margin-bottom: 30px\">\n                <el-button\n                    :disabled=\"loading\"\n                    type=\"primary\"\n                    style=\"width: 48%; float: left; font-size: 22px\"\n                    @click.native.prevent=\"handleLogin\"\n                >\n                    登录\n                </el-button>\n                <el-button\n                    :disabled=\"loading\"\n                    type=\"success\"\n                    style=\"width: 48%; float: right; font-size: 22px\"\n                    @click.native.prevent=\"handleRegister\"\n                >\n                    注册\n                </el-button>\n            </div>\n        </el-form>\n      </div>\n    </div>\n</template>\n\n<script>\n\n\nexport default {\n    name: \"Login\",\n    data() {\n        const validateUsername = (rule, value, callback) => {\n            callback();\n        };\n        const validatePassword = (rule, value, callback) => {\n            callback();\n        };\n        return {\n            loginForm: {\n                username: \"\",\n                password: \"\",\n                isadmin: 0,\n            },\n            loginRules: {\n                username: [\n                    {\n                        required: true,\n                        trigger: \"blur\",\n                        validator: validateUsername,\n                    },\n                ],\n                password: [\n                    {\n                        required: true,\n                        trigger: \"blur\",\n                        validator: validatePassword,\n                    },\n                ],\n            },\n            loading: false,\n            passwordType: \"password\",\n            redirect: undefined,\n        };\n    },\n    updated() {\n        //\n    },\n    methods: {\n        showPwd() {\n            if (this.passwordType === \"password\") {\n                this.passwordType = \"\";\n            } else {\n                this.passwordType = \"password\";\n            }\n            this.$nextTick(() => {\n                this.$refs.password.focus();\n            });\n        },\n        handleLogin() {\n            this.$refs.loginForm.validate((valid) => {\n                if (valid) {\n                    this.loading = true;\n                    this.$store\n                        .dispatch(\"user/login\", this.loginForm)\n                        .then(() => {\n                            this.$router.push({ path: \"/\" });\n                            this.loading = false;\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                            this.loading = false;\n                            if (\n                                e.response == undefined ||\n                                e.response.data == undefined\n                            ) {\n                                this.$message({\n                                    showClose: true,\n                                    message: e,\n                                    type: \"error\",\n                                    duration: 5000,\n                                });\n                            } else {\n                                this.$message({\n                                    showClose: true,\n                                    message: e.response.data,\n                                    type: \"error\",\n                                    duration: 5000,\n                                });\n                            }\n                        });\n                } else {\n                    console.log(\"不允许提交!\");\n                    return false;\n                }\n            });\n        },\n        handleRegister() {\n            console.log(\"注册按钮\");\n            this.$router.push({ path: \"/register\" }); // 进注册页面\n        },\n    },\n    mounted() {\n        //\n    }\n};\n</script>\n\n<style lang=\"scss\">\n/* 修复input 背景不协调 和光标变色 */\n/* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\n\n$bg: #283443;\n$light_gray: #222;\n$cursor: #222;\n\n@supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\n    .login-container .el-input input {\n        color: $cursor;\n    }\n}\n\n/* reset element-ui css */\n.login-container {\n    .el-input.yuan {\n        display: inline-block;\n        height: 47px;\n        width: 85%;\n\n        input {\n            background: transparent;\n            border: 0px;\n            -webkit-appearance: none;\n            border-radius: 0px;\n            padding: 12px 5px 12px 15px;\n            color: #222;\n            height: 47px;\n            caret-color: #222;\n\n            &:-webkit-autofill {\n                box-shadow: 0 0 0px 1000px $bg inset !important;\n                -webkit-text-fill-color: #222 !important;\n            }\n        }\n    }\n\n    .el-input {\n        display: inline-block;\n        height: 47px;\n        width: 100%;\n\n        input {\n            background: transparent;\n            border: 0px;\n            -webkit-appearance: none;\n            border-radius: 0px;\n            padding: 12px 5px 12px 15px;\n            color: #222;\n            height: 47px;\n            caret-color: #222;\n\n            &:-webkit-autofill {\n                box-shadow: 0 0 0px 1000px $bg inset !important;\n                -webkit-text-fill-color: #222 !important;\n            }\n        }\n    }\n\n    .el-form-item {\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        background: rgba(0, 0, 0, 0.1);\n        border-radius: 5px;\n        color: #454545;\n    }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n$bg: #2d3a4b;\n$dark_gray: #222;\n$light_gray: #222;\n\n.login-container {\n    min-height: 100%;\n    width: 100%;\n    //background-color: $bg;\n    overflow: hidden;\n  background-image: url(\"../../assets/图书馆.jpg\");\n  background-size: 100%;\n\n    .login-form {\n        position: relative;\n        width: 520px;\n        max-width: 100%;\n        //padding: 160px 35px 0;\n      padding: 30px;\n        margin: 0 auto;\n        overflow: hidden;\n      background-color: white;\n    }\n\n    .tips {\n        font-size: 14px;\n        color: #222;\n        margin-bottom: 10px;\n\n        span {\n            &:first-of-type {\n                margin-right: 16px;\n            }\n        }\n    }\n\n    .svg-container {\n        padding: 6px 5px 6px 15px;\n        color: $dark_gray;\n        vertical-align: middle;\n        width: 30px;\n        display: inline-block;\n\n        font-size: 20px;\n    }\n\n    .title-container {\n        position: relative;\n\n        .title {\n            font-size: 26px;\n            color: $light_gray;\n            margin: 0px auto 40px auto;\n            text-align: center;\n            font-weight: bold;\n        }\n    }\n\n    .show-pwd {\n        position: absolute;\n        right: 10px;\n        top: 7px;\n        font-size: 16px;\n        color: $dark_gray;\n        cursor: pointer;\n        user-select: none;\n    }\n}\n</style>\n"]}]}